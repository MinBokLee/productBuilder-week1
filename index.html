<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lunch Picker Pro & AI Face Test</title>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@latest/dist/teachablemachine-image.min.js"></script>
    <style>
        :root {
            --primary-color: #4f46e5; 
            --accent-color: #f43f5e; 
            --bg-color: #f8fafc;
            --card-bg: #ffffff;
            --text-main: #0f172a;
            --text-sub: #475569;
            --stat-bg: #f1f5f9;
            --border-color: #e2e8f0;
            --btn-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            /* ê·¸ë¼ë°ì´ì…˜ íƒ€ì´í‹€ìš© */
            --title-gradient: linear-gradient(135deg, #4f46e5 0%, #9333ea 100%);
        }

        [data-theme='dark'] {
            --bg-color: #020617;
            --card-bg: #1e293b;
            --text-main: #f8fafc;
            --text-sub: #94a3b8;
            --stat-bg: #0f172a;
            --border-color: #334155;
            --title-gradient: linear-gradient(135deg, #818cf8 0%, #c084fc 100%);
        }

        body { 
            font-family: 'Pretendard', -apple-system, sans-serif; 
            background-color: var(--bg-color); 
            margin: 0; color: var(--text-main);
            transition: all 0.3s ease; min-height: 100vh;
            line-height: 1.6;
        }

        .page { display: none; width: 100%; flex-direction: column; align-items: center; padding: 20px; box-sizing: border-box; }
        .page.active { display: flex; animation: slideUp 0.5s cubic-bezier(0.16, 1, 0.3, 1); }

        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        .container { 
            background: var(--card-bg); padding: 40px 24px; border-radius: 32px; 
            box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1), 0 10px 10px -5px rgba(0,0,0,0.04); 
            text-align: center; width: 100%; max-width: 480px; position: relative;
        }

        .top-controls { position: absolute; top: 20px; right: 20px; display: flex; gap: 10px; }
        .control-btn { background: var(--stat-bg); border: 1px solid var(--border-color); border-radius: 12px; padding: 8px 12px; cursor: pointer; font-size: 0.85rem; font-weight: 600; color: var(--text-main); transition: 0.2s; }

        /* [ìˆ˜ì •] ëª¨ë˜ ê·¸ë¼ë°ì´ì…˜ íƒ€ì´í‹€ ìŠ¤íƒ€ì¼ */
        .brand-title {
            font-size: 2.2rem;
            font-weight: 900;
            margin: 20px 0 8px 0;
            letter-spacing: -1.5px;
            background: var(--title-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            display: inline-block;
        }
        .brand-underline {
            width: 40px;
            height: 5px;
            background: var(--primary-color);
            margin: 0 auto 25px auto;
            border-radius: 10px;
        }

        .primary-btn { 
            width: 100%; padding: 20px; font-size: 1.15rem; background: linear-gradient(135deg, var(--primary-color), #818cf8);
            color: white; border: none; border-radius: 18px; cursor: pointer; font-weight: 700;
            box-shadow: var(--btn-shadow); transition: transform 0.2s, box-shadow 0.2s;
        }
        .primary-btn:hover { transform: translateY(-2px); box-shadow: 0 10px 15px -3px rgba(79, 70, 229, 0.4); }

        .link-btn { background: var(--stat-bg); border: 1px dashed var(--primary-color); color: var(--primary-color); padding: 14px; border-radius: 16px; cursor: pointer; font-weight: 600; width: 100%; margin-bottom: 24px; transition: 0.2s; }

        .filter-group { display: flex; justify-content: center; gap: 10px; margin-bottom: 24px; }
        .filter-btn { padding: 10px 16px; border-radius: 14px; border: 1px solid var(--border-color); background: var(--card-bg); color: var(--text-sub); cursor: pointer; font-size: 0.9rem; font-weight: 500; }
        .filter-btn.active { background: var(--text-main); color: var(--card-bg); border-color: var(--text-main); }
        
        .menu-card { border-radius: 24px; overflow: hidden; text-align: left; animation: fadeIn 0.4s ease; background: var(--card-bg); border: 1px solid var(--border-color); margin-bottom: 24px; }
        .food-image { width: 100%; height: 240px; object-fit: cover; }
        .food-header { padding: 20px 20px 0 20px; }
        .food-badge { background: var(--accent-color); color: white; padding: 4px 12px; border-radius: 99px; font-size: 0.75rem; font-weight: 800; text-transform: uppercase; letter-spacing: 0.5px; }
        .food-name { margin: 12px 0 8px 0; font-size: 1.6rem; font-weight: 800; letter-spacing: -0.5px; }

        .nutri-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; margin: 15px 20px; }
        .nutri-item { background: var(--stat-bg); padding: 12px; border-radius: 16px; text-align: center; }
        .nutri-label { font-size: 0.75rem; color: var(--text-sub); display: block; margin-bottom: 4px; }
        .nutri-value { font-weight: 700; font-size: 1.05rem; }

        .food-story { padding: 15px; background: #fffbeb; border-radius: 16px; border-left: 4px solid #f59e0b; margin: 0 20px 20px 20px; }
        [data-theme='dark'] .food-story { background: #451a03; border-left: 4px solid #d97706; }
        .story-text { font-size: 0.88rem; color: var(--text-main); line-height: 1.6; }

        #image-preview { width: 100%; max-width: 300px; border-radius: 24px; margin: 24px 0; display: none; object-fit: cover; border: 4px solid var(--card-bg); box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1); }
        .result-box { margin-top: 24px; text-align: left; display: none; }
        .result-title { font-size: 1.8rem; font-weight: 900; color: var(--primary-color); text-align: center; margin-bottom: 20px; }
        .result-desc { background: var(--stat-bg); padding: 24px; border-radius: 20px; font-size: 1rem; line-height: 1.8; color: var(--text-main); }
        
        .bottom-section { width: 100%; max-width: 480px; margin-top: 30px; margin-bottom: 60px; }
        #disqus_thread { background: var(--card-bg); padding: 24px; border-radius: 24px; border: 1px solid var(--border-color); }
    </style>
</head>
<body data-theme="light">

    <div id="main-page" class="page active">
        <div class="container">
            <div class="top-controls">
                <button class="control-btn" onclick="toggleLang()">KO / EN</button>
                <button class="control-btn" onclick="toggleTheme()" id="theme-btn">ğŸŒ™</button>
            </div>
            
            <div style="margin-top:20px;">
                <h1 id="main-title" class="brand-title">ì˜¤ëŠ˜ ì ì‹¬ ë­ ë¨¹ì§€?</h1>
                <div class="brand-underline"></div>
            </div>
            
            <p id="main-sub" style="color:var(--text-sub); margin-bottom:30px; font-size:1.1rem; font-weight: 500;">AIê°€ ë‹¹ì‹ ì˜ ì™„ë²½í•œ í•œ ë¼ë¥¼ íë ˆì´íŒ…í•©ë‹ˆë‹¤.</p>

            <button class="link-btn" id="go-animal-btn" onclick="navigateTo('animal-page')">âœ¨ ë‚˜ë‘ ì–´ìš¸ë¦¬ëŠ” ë™ë¬¼ìƒ í…ŒìŠ¤íŠ¸</button>

            <div class="filter-group">
                <button class="filter-btn active" data-filter="all" onclick="setFilter('all', this)" id="filter-all">ì „ì²´</button>
                <button class="filter-btn" data-filter="kr" onclick="setFilter('kr', this)" id="filter-kr">í•œì‹</button>
                <button class="filter-btn" data-filter="as" onclick="setFilter('as', this)" id="filter-as">ì•„ì‹œì•ˆ</button>
                <button class="filter-btn" data-filter="ws" onclick="setFilter('ws', this)" id="filter-ws">ì–‘ì‹</button>
            </div>

            <div id="menu-container">
                <div style="padding:60px 0; border:2px dashed var(--border-color); border-radius:24px; margin-bottom:24px;">
                    <p id="main-placeholder" style="color:var(--text-sub); font-weight:500;">ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ë©”ë‰´ê°€ ì¶”ì²œë©ë‹ˆë‹¤.</p>
                </div>
            </div>
            <button class="primary-btn" id="recommend-btn" onclick="generateLunchMenu()">ì§€ê¸ˆ ì¶”ì²œ ë°›ê¸°</button>
        </div>

        <div class="bottom-section">
            <button class="link-btn" style="border:none; text-decoration:underline;" onclick="toggleContactForm()" id="contact-toggle">ë¬¸ì˜ ë° ì œíœ´</button>
            <div id="contact-form-wrapper" style="display:none; background:var(--card-bg); padding:20px; border-radius:20px; margin-bottom:20px; border:1px solid var(--border-color);">
                <form action="https://formspree.io/f/xojjjadw" method="POST">
                    <input type="text" name="name" id="form-name" placeholder="ì„±í•¨" style="width:100%; padding:12px; margin-bottom:10px; border-radius:10px; border:1px solid var(--border-color);">
                    <textarea name="message" id="form-msg" placeholder="ë©”ì‹œì§€" rows="3" style="width:100%; padding:12px; margin-bottom:10px; border-radius:10px; border:1px solid var(--border-color);"></textarea>
                    <button type="submit" class="primary-btn" style="padding:12px; font-size:1rem;" id="form-submit">ì „ì†¡</button>
                </form>
            </div>
            <div id="disqus_thread"></div>
        </div>
    </div>

    <div id="animal-page" class="page">
        <div class="container">
            <button id="back-btn" style="position:absolute; left:20px; top:20px; border:none; background:none; cursor:pointer; font-weight:800; color:var(--primary-color); font-size:1rem;" onclick="navigateTo('main-page')">â† HOME</button>
            <h1 id="animal-title" style="margin-top:30px; font-weight:900;">AI ë™ë¬¼ìƒ í…ŒìŠ¤íŠ¸</h1>
            <p id="animal-sub" style="color:var(--text-sub);">ì‚¬ì§„ìœ¼ë¡œ ë‹¹ì‹ ì˜ ì´ë¯¸ì§€ë¥¼ ë¶„ì„í•©ë‹ˆë‹¤.</p>

            <div style="margin:40px 0;">
                <input type="file" id="image-upload" accept="image/*" style="display: none;" onchange="handleImageUpload(event)">
                <button class="primary-btn" id="upload-btn" onclick="document.getElementById('image-upload').click()">ì‚¬ì§„ ì—…ë¡œë“œ</button>
            </div>

            <center><img id="image-preview" src="#"></center>

            <div id="result-area" class="result-box">
                <div id="result-title" class="result-title"></div>
                <div id="result-desc" class="result-desc"></div>
                <button class="primary-btn" id="result-go-back" onclick="navigateTo('main-page')" style="margin-top:24px;">ì ì‹¬ ì¶”ì²œ ë°›ìœ¼ëŸ¬ ê°€ê¸°</button>
            </div>
        </div>
    </div>

    <script>
        let currentLang = 'ko';
        let currentFilter = 'all';

        const i18n = {
            ko: {
                mainTitle: "ì˜¤ëŠ˜ ì ì‹¬ ë­ ë¨¹ì§€?",
                mainSub: "AIê°€ ë‹¹ì‹ ì˜ ì™„ë²½í•œ í•œ ë¼ë¥¼ íë ˆì´íŒ…í•©ë‹ˆë‹¤.",
                goAnimal: "âœ¨ ë‚˜ë‘ ì–´ìš¸ë¦¬ëŠ” ë™ë¬¼ìƒ í…ŒìŠ¤íŠ¸",
                filterAll: "ì „ì²´", filterKr: "í•œì‹", filterAs: "ì•„ì‹œì•ˆ", filterWs: "ì–‘ì‹",
                placeholder: "ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ë©”ë‰´ê°€ ì¶”ì²œë©ë‹ˆë‹¤.",
                recommendBtn: "ì§€ê¸ˆ ì¶”ì²œ ë°›ê¸°",
                contactToggle: "ë¬¸ì˜ ë° ì œíœ´",
                formName: "ì„±í•¨", formMsg: "ë©”ì‹œì§€", formSubmit: "ì „ì†¡",
                back: "â† HOME",
                animalTitle: "AI ë™ë¬¼ìƒ í…ŒìŠ¤íŠ¸",
                animalSub: "ì‚¬ì§„ìœ¼ë¡œ ë‹¹ì‹ ì˜ ì´ë¯¸ì§€ë¥¼ ë¶„ì„í•©ë‹ˆë‹¤.",
                uploadBtn: "ì‚¬ì§„ ì—…ë¡œë“œ",
                resultGoBack: "ì ì‹¬ ì¶”ì²œ ë°›ìœ¼ëŸ¬ ê°€ê¸°",
                analyzing: "AI ë¶„ì„ ì¤‘...",
                carb: "íƒ„ìˆ˜í™”ë¬¼", protein: "ë‹¨ë°±ì§ˆ", fat: "ì§€ë°©",
                confirmTitle: "í™•ì‹¤í•œ '{animal}ìƒ' ì´ì‹œë„¤ìš”!",
                dog: "ê°•ì•„ì§€", cat: "ê³ ì–‘ì´",
                dogDesc: "ì˜¨í™”í•˜ê³  ì¹œê·¼í•œ ëˆˆë§¤ë¥¼ ê°€ì§„ ë‹¹ì‹ ì€ ëˆ„êµ¬ì—ê²Œë‚˜ í˜¸ê°ì„ ì£¼ëŠ” íƒ€ì…ì…ë‹ˆë‹¤. ì„±ê²© ë˜í•œ ë‹¤ì •ë‹¤ê°í•˜ì—¬ ì£¼ë³€ ì‚¬ëŒë“¤ì—ê²Œ ê¸ì •ì ì¸ ì—ë„ˆì§€ë¥¼ ì „íŒŒí•©ë‹ˆë‹¤.",
                catDesc: "ì‹œí¬í•˜ê³  ì„¸ë ¨ëœ ë§¤ë ¥ì´ ë‹ë³´ì´ëŠ” ê³ ì–‘ì´ìƒì…ë‹ˆë‹¤. ìê¸°ì£¼ê´€ì´ ëšœë ·í•˜ë©° ë•Œë¡œëŠ” ë„ë„í•´ ë³´ì´ì§€ë§Œ, ì†Œì¤‘í•œ ì‚¬ëŒë“¤ì—ê²ŒëŠ” ê¹Šì€ ì• ì •ì„ ìŸëŠ” ë°˜ì „ ë§¤ë ¥ì´ ìˆìŠµë‹ˆë‹¤."
            },
            en: {
                mainTitle: "What's for Lunch?",
                mainSub: "AI curates your perfect meal.",
                goAnimal: "âœ¨ AI Animal Face Test",
                filterAll: "All", filterKr: "Korean", filterAs: "Asian", filterWs: "Western",
                placeholder: "Press button to get menu.",
                recommendBtn: "Get Recommendation",
                contactToggle: "Contact & Partnership",
                formName: "Name", formMsg: "Message", formSubmit: "Send",
                back: "â† HOME",
                animalTitle: "AI Face Test",
                animalSub: "Analyze your image with AI.",
                uploadBtn: "Upload Photo",
                resultGoBack: "Go to Lunch Picker",
                analyzing: "Analyzing...",
                carb: "Carbs", protein: "Protein", fat: "Fat",
                confirmTitle: "You're definitely a '{animal}' face!",
                dog: "Dog", cat: "Cat",
                dogDesc: "With warm and friendly eyes, you are a likable type to everyone. Your affectionate personality spreads positive energy to those around you.",
                catDesc: "A chic and sophisticated cat-like charm. You have a clear sense of self and may seem aloof, but you have a hidden warmth for your loved ones."
            }
        };

        const menuData = [
            { 
                category: 'kr', 
                ko: { name: "ë§¤ì½¤ ì œìœ¡ë³¶ìŒ", summary: "ë¹„íƒ€ë¯¼ B1ì´ í’ë¶€í•œ ë¼ì§€ê³ ê¸°ì™€ ê³ ì¶”ì¥ì˜ ìº¡ì‚¬ì´ì‹ ì´ ë§Œë‚˜ ì‹ ì§„ëŒ€ì‚¬ë¥¼ ì´‰ì§„í•©ë‹ˆë‹¤.", story: "ì œìœ¡ë³¶ìŒì€ ì¡°ì„  ì‹œëŒ€ 'ì €ìœ¡'ì—ì„œ ìœ ë˜í–ˆìŠµë‹ˆë‹¤. í˜„ëŒ€ì—ëŠ” ì§ì¥ì¸ë“¤ì˜ í”¼ë¡œ í•´ì†Œë¥¼ ë•ëŠ” ê°•ë ¥í•œ ì—ë„ˆì§€ì›ì…ë‹ˆë‹¤." },
                en: { name: "Spicy Stir-fried Pork", summary: "Rich in Vitamin B1, this dish combines pork and chili paste to boost metabolism.", story: "Originating from the Joseon Dynasty, it is now the most powerful energy source for busy workers in Korea." },
                kcal: 750, nutri: { c: "42g", p: "35g", f: "20g" }, img: "https://images.unsplash.com/photo-1626074353765-517a681e40be?auto=format&fit=crop&w=800&q=80" 
            },
            { 
                category: 'as', 
                ko: { name: "í”„ë¦¬ë¯¸ì—„ ì—°ì–´ ì´ˆë°¥", summary: "DHAê°€ í’ë¶€í•œ ì—°ì–´ëŠ” ë‘ë‡Œ í™œë™ì„ ë•ê³  í˜ˆê´€ ê±´ê°•ì„ ê°œì„ í•˜ëŠ” ê³ ë‹¨ë°± ì‹í’ˆì…ë‹ˆë‹¤.", story: "ì—°ì–´ëŠ” ê°•ë ¬í•œ ìƒ‰ê°ë§Œí¼ ì˜ì–‘ë„ í’ë¶€í•©ë‹ˆë‹¤. ì§‘ì¤‘ë ¥ì´ í•„ìš”í•œ ì˜¤í›„ ì¼ê³¼ë¥¼ ìœ„í•´ ê°€ë³ì§€ë§Œ ë“ ë“ í•œ ì„ íƒì´ ë©ë‹ˆë‹¤." },
                en: { name: "Premium Salmon Sushi", summary: "Rich in DHA, salmon is a high-protein food that helps brain activity.", story: "With its vibrant color and rich nutrients, it's a light yet filling choice for a productive afternoon." },
                kcal: 520, nutri: { c: "58g", p: "24g", f: "11g" }, img: "https://images.unsplash.com/photo-1579871494447-9811cf80d66c?auto=format&fit=crop&w=800&q=80" 
            },
            { 
                category: 'ws', 
                ko: { name: "ê°ˆë¦­ ì•Œë¦¬ì˜¤ ì˜¬ë¦¬ì˜¤", summary: "ì˜¬ë¦¬ë¸Œìœ ì˜ ë¶ˆí¬í™” ì§€ë°©ì‚°ê³¼ ë§ˆëŠ˜ì˜ ì•Œë¦¬ì‹  ì„±ë¶„ì´ ë©´ì—­ë ¥ì„ ë†’ì´ê³  ì½œë ˆìŠ¤í…Œë¡¤ì„ ë‚®ì¶¥ë‹ˆë‹¤.", story: "ì´íƒˆë¦¬ì•„ì–´ë¡œ 'ë§ˆëŠ˜ê³¼ ì˜¬ë¦¬ë¸Œìœ 'ë¼ëŠ” ëœ»ì…ë‹ˆë‹¤. ì†Œë°•í•œ ì¬ë£Œì§€ë§Œ ì‹¬ì¥ ê±´ê°•ì— íƒì›”í•œ íš¨ëŠ¥ì„ ê°€ì§„ ê±´ê°•ì‹ì…ë‹ˆë‹¤." },
                en: { name: "Garlic Aglio e Olio", summary: "Olive oil and garlic boost immunity and lower cholesterol.", story: "Meaning 'Garlic and Oil' in Italian, this simple dish is a healthy choice for heart health." },
                kcal: 460, nutri: { c: "62g", p: "12g", f: "18g" }, img: "https://images.unsplash.com/photo-1551183053-bf91a1d81141?auto=format&fit=crop&w=800&q=80" 
            }
        ];

        function toggleLang() {
            currentLang = currentLang === 'ko' ? 'en' : 'ko';
            updateTexts();
        }

        function updateTexts() {
            const t = i18n[currentLang];
            document.getElementById('main-title').innerText = t.mainTitle;
            document.getElementById('main-sub').innerText = t.mainSub;
            document.getElementById('go-animal-btn').innerText = t.goAnimal;
            document.getElementById('filter-all').innerText = t.filterAll;
            document.getElementById('filter-kr').innerText = t.filterKr;
            document.getElementById('filter-as').innerText = t.filterAs;
            document.getElementById('filter-ws').innerText = t.filterWs;
            document.getElementById('recommend-btn').innerText = t.recommendBtn;
            document.getElementById('back-btn').innerText = t.back;
            document.getElementById('animal-title').innerText = t.animalTitle;
            document.getElementById('animal-sub').innerText = t.animalSub;
            document.getElementById('upload-btn').innerText = t.uploadBtn;
            document.getElementById('result-go-back').innerText = t.resultGoBack;
            if(document.getElementById('main-placeholder')) document.getElementById('main-placeholder').innerText = t.placeholder;
        }

        function navigateTo(pageId) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            if(pageId === 'animal-page') loadAnimalModel();
        }

        function setFilter(f, btn) {
            currentFilter = f;
            document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
        }

        function generateLunchMenu() {
            const container = document.getElementById('menu-container');
            const foods = menuData.filter(i => currentFilter === 'all' || i.category === currentFilter);
            const food = foods[Math.floor(Math.random() * foods.length)];
            const t = i18n[currentLang];
            const data = food[currentLang];

            container.innerHTML = `
                <div class="menu-card">
                    <img src="${food.img}" class="food-image">
                    <div class="food-header">
                        <span class="food-badge">${food.kcal} KCAL</span>
                        <h2 class="food-name">${data.name}</h2>
                        <p style="font-size:0.92rem; color:var(--text-sub); margin-bottom:15px;">${data.summary}</p>
                    </div>
                    <div class="nutri-grid">
                        <div class="nutri-item"><span class="nutri-label">${t.carb}</span><span class="nutri-value">${food.nutri.c}</span></div>
                        <div class="nutri-item"><span class="nutri-label">${t.protein}</span><span class="nutri-value">${food.nutri.p}</span></div>
                        <div class="nutri-item"><span class="nutri-label">${t.fat}</span><span class="nutri-value">${food.nutri.f}</span></div>
                    </div>
                    <div class="food-story">
                        <p class="story-text"><strong>ğŸ’¡ Insight:</strong> ${data.story}</p>
                    </div>
                </div>`;
        }

        const ANIMAL_URL = "https://teachablemachine.withgoogle.com/models/ZGmPRyuJD/";
        let animalModel;

        async function loadAnimalModel() {
            if (!animalModel) {
                animalModel = await tmImage.load(ANIMAL_URL + "model.json", ANIMAL_URL + "metadata.json");
            }
        }

        async function handleImageUpload(event) {
            const file = event.target.files[0];
            if (!file) return;
            document.getElementById('upload-btn').innerText = i18n[currentLang].analyzing;
            const reader = new FileReader();
            reader.onload = async (e) => {
                const img = document.getElementById('image-preview');
                img.src = e.target.result;
                img.style.display = 'inline-block';
                const prediction = await animalModel.predict(img);
                prediction.sort((a, b) => b.probability - a.probability);
                showAnimalResult(prediction[0]);
                document.getElementById('upload-btn').innerText = i18n[currentLang].uploadBtn;
            };
            reader.readAsDataURL(file);
        }

        function showAnimalResult(topPrediction) {
            const topAnimal = topPrediction.className; 
            const t = i18n[currentLang];
            const resultArea = document.getElementById('result-area');
            const descArea = document.getElementById('result-desc');
            const titleArea = document.getElementById('result-title');
            resultArea.style.display = 'block';
            let animalName = (topAnimal === "ê°•ì•„ì§€ìƒ") ? t.dog : t.cat;
            titleArea.innerText = t.confirmTitle.replace("{animal}", animalName);
            descArea.innerText = (topAnimal === "ê°•ì•„ì§€ìƒ") ? t.dogDesc : t.catDesc;
        }

        function toggleTheme() {
            const isLight = document.body.getAttribute('data-theme') === 'light';
            document.body.setAttribute('data-theme', isLight ? 'dark' : 'light');
            document.getElementById('theme-btn').innerText = isLight ? 'â˜€ï¸' : 'ğŸŒ™';
        }

        function toggleContactForm() {
            const w = document.getElementById('contact-form-wrapper');
            w.style.display = w.style.display === 'block' ? 'none' : 'block';
        }

        updateTexts();

        (function() {
            var d = document, s = d.createElement('script');
            s.src = 'https://lunch-18.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();
    </script>
</body>
</html>